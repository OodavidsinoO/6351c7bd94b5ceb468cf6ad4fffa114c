(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-classify-list"],{"19d8":function(t,e,a){"use strict";a.r(e);var i=a("5c13"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},"3cc6":function(t,e,a){"use strict";var i=a("c8ea"),s=a.n(i);s.a},"5c13":function(t,e,a){"use strict";var i=a("4ea4");a("4e82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var s=i(a("1da1")),n=i(a("5438")),o=i(a("67c6")),c={data:function(){return{StatusBar:this.StatusBar,CustomBar:this.CustomBar,is_coupon:!1,only_coupon:!0,goods:[],status:"none",kw:"",kwt:"",sort:"total_sales",order:"_des",skin:"default",pageId:1,relatedKW:[],showRelated:!1}},onLoad:function(t){n.default.isBlank(t.kw)||(this.kw=t.kw,this.kwt=t.kw),this.getCouponSetting(),this.getSearchGoods()},onPullDownRefresh:function(){this.getCouponSetting(),this.getSearchGoods(),setTimeout((function(){uni.stopPullDownRefresh()}),500)},onReachBottom:function(){"noMore"!=this.status&&(this.status="loading",this.getSearchGoods(!1))},methods:{goTop:function(){uni.pageScrollTo({scrollTop:0,duration:300})},goUrl:function(t){var e=t.currentTarget.dataset.url;uni.navigateTo({url:e})},getRelatedKW:function(){var t=this;this.relatedKW=[],""!==this.kw.length&&o.default.getSearchSuggestion({keyWords:this.kw,type:3}).then((function(e){for(var a=e.data,i=0;i<a.length;i++)t.relatedKW.push(a[i].kw)}))},setRelatedKW:function(t){this.kw=t,this.getRelatedKW()},kwInputHandle:function(t){var e=t.detail.value;this.kw=e,this.relatedKW=[],setTimeout(this.getRelatedKW(),800)},goSearch:function(){var t=this.kw;""!=t&&(this.kws=n.default.getKW(t),this.kwt=t,uni.navigateTo({url:"/pages/classify/list?kw="+t}))},tabSortHandle:function(t){var e=t.currentTarget.dataset.sort;"rq"!==e&&(this.order="_des"===this.order?"_asc":"_des"),this.sort=e,this.status="loading",this.getSearchGoods()},onlyCouponHandle:function(t){t.target.value?this.only_coupon=!0:this.only_coupon=!1,this.getSearchGoods()},goDetailClick:function(t){var e=t.currentTarget.dataset.id,a=t.currentTarget.dataset.goodsid;uni.navigateTo({url:"/pages/index/detail?id="+e+"&goodsId="+a})},getSearchGoods:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a={pageId:this.pageId,keyWords:o.default.t2cn(this.kw)};"rq"!=this.sort&&(a.sort=this.sort+this.order),a.hasCoupon=this.only_coupon?1:null,this.goods=e?[]:this.goods,o.default.listSuperGoods(a).then((function(e){if(0===e.code){var a=e.data,i=a.list;for(var s in i)t.goods.push(i[s]);t.pageId++,t.status="none"}else t.status="noMore"}))},getCouponSetting:function(){var t=this;return(0,s.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.default.couponSetting();case 2:t.is_coupon=e.sent;case 3:case"end":return e.stop()}}),e)})))()}}};e.default=c},"901b":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var i={uniLoadMore:a("5795").default},s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("cu-custom",{attrs:{bgColor:"bg-gradual-pink",isBack:!0}},[a("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("上一頁")]),"clean"==t.skin?a("template",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.kwt))]):a("template",{attrs:{slot:"content"},slot:"content"},[t._v("關鍵詞「"+t._s(t.kwt)+"」")])],2),a("v-uni-view",{staticClass:"bg-white"},[a("v-uni-view",{staticClass:"cu-bar search"},[a("v-uni-view",{staticClass:"search-form radius"},[a("v-uni-text",{staticClass:"cuIcon-search"}),a("v-uni-input",{staticStyle:{position:"relative"},attrs:{"adjust-position":!1,"confirm-type":"search",placeholder:"輸入商品名或貼上商品標題搜索 🧡"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.goSearch.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.kwInputHandle.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.showRelated=!0}},model:{value:t.kw,callback:function(e){t.kw=e},expression:"kw"}}),t.showRelated?a("v-uni-view",{staticClass:"str-auto-complete-container"},t._l(t.relatedKW,(function(e){return a("v-uni-view",{key:e,staticClass:"str-auto-complete-item",domProps:{innerHTML:t._s(e)},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.setRelatedKW(e)}}})})),1):t._e()],1),a("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goSearch.apply(void 0,arguments)}}},[t._v("尋找")])],1)],1),t.showRelated?a("v-uni-view",{staticClass:"str-auto-complete-mask",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showRelated=!1}}}):t._e(),a("v-uni-view",{staticClass:"box-goods bg-white"},["clean"!=t.skin?a("v-uni-scroll-view",{staticClass:"bg-white nav text-center",staticStyle:{"border-bottom":"#DDDDDD 1px solid"},attrs:{"scroll-x":!0}},[a("v-uni-view",{staticClass:"cu-item",class:"rq"==t.sort?"text-pink cur":"",attrs:{"data-sort":"rq"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabSortHandle.apply(void 0,arguments)}}},[t._v("人氣")]),a("v-uni-view",{staticClass:"cu-item",class:"total_sales"==t.sort?"text-pink cur":"",attrs:{"data-sort":"total_sales"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabSortHandle.apply(void 0,arguments)}}},["total_sales"==t.sort?a("v-uni-text",{class:"_des"==t.order?"cuIcon-triangledownfill":"cuIcon-triangleupfill"},[t._v("銷量")]):a("v-uni-text",[t._v("銷量")])],1),a("v-uni-view",{staticClass:"cu-item",class:"price"==t.sort?"text-pink cur":"",attrs:{"data-sort":"price"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabSortHandle.apply(void 0,arguments)}}},["price"==t.sort?a("v-uni-text",{class:"_des"==t.order?"cuIcon-triangledownfill":"cuIcon-triangleupfill"},[t._v("價格")]):a("v-uni-text",[t._v("價格")])],1),a("v-uni-view",{staticClass:"cu-item"},[a("v-uni-text",[t._v("僅顯示有優惠券商品：")]),a("v-uni-switch",{attrs:{checked:!0,color:"#E03997 !important"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onlyCouponHandle.apply(void 0,arguments)}}})],1)],1):t._e(),a("v-uni-view",{staticClass:"content-goods"},[a("v-uni-view",{staticClass:"grid col-2"},t._l(t.goods,(function(e,i){return a("v-uni-view",{key:i,staticClass:"padding-xs"},[a("v-uni-view",{staticClass:"bg-white",attrs:{"data-id":e.id,"data-goodsid":e.goodsId},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goDetailClick.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"bg-white"},[a("v-uni-image",{staticStyle:{width:"100%"},attrs:{mode:"widthFix","lazy-load":!0,src:e.mainPic||e.marketingMainPic}})],1),a("v-uni-view",{staticClass:"padding-xs"},[a("v-uni-view",{staticClass:"response"},[a("v-uni-view",{staticClass:"cu-tag radius sm margin-right-xs",class:1==e.shopType?"bg-gradual-red":"bg-gradual-orange"},[t._v(t._s(1==e.shopType?"天貓":"淘寶"))]),a("br"),t._v(t._s(e.title))],1),a("hr",{staticStyle:{"border-top":"2px dashed","margin-top":"5%","margin-bottom":"3%"}}),t.is_coupon?a("v-uni-view",{staticClass:"flex-sub"},[t._v("優惠價"),a("v-uni-text",{staticClass:"text-price margin-left-xs text-bold text-red"},[t._v(t._s(e.actualPrice))]),a("br"),t._v("約為港紙"),a("v-uni-text",{staticClass:"margin-left-xs text-bold text-red"},[t._v(t._s(Math.round(1.2*e.actualPrice))+" 蚊")]),a("v-uni-view",{staticClass:"text-sm"},[t._v("原價"),a("v-uni-text",{staticClass:"text-price margin-left-xs text-bold"},[a("strike",[t._v(t._s(e.originalPrice))])],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0!==e.couponPrice,expression:"item.couponPrice !== 0"}],staticClass:"cu-capsule radius flex-sub",staticStyle:{float:"right"}},[a("v-uni-view",{staticClass:"cu-tag bg-red sm"},[t._v("慳咗")]),a("v-uni-view",{staticClass:"cu-tag line-red sm"},[t._v("￥ "+t._s(e.couponPrice))])],1)],1)],1):t._e(),e.dailySales>0?a("v-uni-view",{staticClass:"margin-top-sm"},[a("v-uni-text",{staticClass:"text-sm"},[t._v("今日賣咗: "+t._s(e.dailySales)+" 件")])],1):t._e(),e.monthSales>0?a("v-uni-view",{staticStyle:{"margin-top":"2px"}},[a("v-uni-text",{staticClass:"text-sm"},[t._v("本月賣咗: "+t._s(e.monthSales)+" 件")])],1):t._e()],1)],1)],1)})),1)],1)],1),a("uni-load-more",{attrs:{iconType:"circle",status:t.status}}),a("v-uni-view",{staticClass:"radius",staticStyle:{"font-size":"30px",background:"rgba(0, 0, 0, 0.5)","z-index":"999",position:"fixed",right:"30px",bottom:"80px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goTop.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"cuIcon-top text-white"})],1)],1)},n=[]},b5a0:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".str-auto-complete-container[data-v-6c74d0d6]{width:80%;height:auto;border:1px solid #f3f3f4;position:absolute;top:%?80?%;display:block;z-index:999;min-width:160px;border-radius:30px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);background:#fff}.str-auto-complete-container .str-auto-complete-item[data-v-6c74d0d6]{padding:%?0.5?%;text-align:center}.str-auto-complete-mask[data-v-6c74d0d6]{width:100%;height:100%;position:absolute;display:block;z-index:998;opacity:.2;background:#000}",""]),t.exports=e},c8ea:function(t,e,a){var i=a("b5a0");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("4f06").default;s("47a4f9b2",i,!0,{sourceMap:!1,shadowMode:!1})},e097:function(t,e,a){"use strict";a.r(e);var i=a("901b"),s=a("19d8");for(var n in s)"default"!==n&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("3cc6");var o,c=a("f0c5"),r=Object(c["a"])(s["default"],i["b"],i["c"],!1,null,"6c74d0d6",null,!1,i["a"],o);e["default"]=r.exports}}]);